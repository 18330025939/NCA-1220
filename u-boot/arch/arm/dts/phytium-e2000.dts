// SPDX-License-Identifier: GPL-2.0+
/*
 * dts file for Phytium E2000 SoC
 *
 * Copyright (C) 2022, Phytium Technology Co., Ltd.
 */
/dts-v1/;

/ {
	model = "Phytium E2000 Development Board";
    compatible = "phytium,e2000";
    #address-cells = <2>;
    #size-cells = <2>;

	aliases {
		spi0 = &spi0;
		spi1 = &spi1;
		spi2 = &spi2;
		spi3 = &spi3;
	};

	pcie: pcie@40000000 {
		compatible = "phytium,pcie-host-1.0";
		device_type = "pci";
		#address-cells = <3>;
		#size-cells = <2>;
		reg = <0x0 0x40000000 0x0 0x10000000>;
		bus-range = <0x0 0xff>;
		ranges = <0x01000000 0x00 0x00000000 0x0  0x50000000 0x0  0x00F00000>,
				 <0x02000000 0x00 0x58000000 0x0  0x58000000 0x0  0x28000000>,
				 <0x43000000 0x10 0x00000000 0x10 0x00000000 0x10 0x00000000>;
	};

    psci {
        compatible = "arm,psci-1.0", "arm,psci-0.2", "arm,psci";
        method = "smc";
    };

	soc {
		compatible = "simple-bus";
		#address-cells = <2>;
		#size-cells = <2>;
		ranges;
		
		mmc0: mmc@28000000 {
			compatible = "phytium,phytium-mci";
			reg = <0x0 0x28000000 0x0 0x1000>;
			clock = <1200000000>;
			status = "okay";
		};

		mmc1: mmc@28001000 {
			compatible = "phytium,phytium-mci";
			reg = <0x0 0x28001000 0x0 0x1000>;
			clock = <1200000000>;
			status = "okay";
            non-removable;
		};

		uart@2800d000 {
			compatible = "arm,pl011", "arm,primecell";
			reg = <0x0 0x2800d000 0x0 0x1000>;
			//clock = <48000000>;
			clock = <100000000>;
		};
		
		mio09: mio09-i2c@28026000 {
			compatible = "phytium,phytium-i2c";
			reg = <0x0 0x28026000 0x0 0x1000>;
			clock = <48000000>;
			status = "okay";

			#address-cells = <1>;
			#size-cells = <0>;
			rtc@68 {
				compatible = "dallas,ds1339";
				reg = <0x68>;
				status = "okay";
			};
		};

		spi0: spi@2803a000 {
			compatible = "phytium,phytium-spi";
			reg = <0x0 0x2803a000 0x0 0x1000>;
			spi-max-frequency = <4000000>;
			clock = <48000000>;
			status = "okay";

			#address-cells = <1>;
			#size-cells = <0>;
			spi_flash@0 {
				compatible = "jedec,spi-nor";
				reg = <0>;
				spi-max-frequency = <4000000>;
			};
		};

		spi1: spi@2803b000 {
			compatible = "phytium,phytium-spi";
			reg = <0x0 0x2803b000 0x0 0x1000>;
			spi-max-frequency = <4000000>;
			clock = <48000000>;
			status = "disabled";
		};

		spi2: spi@2803c000 {
			compatible = "phytium,phytium-spi";
			reg = <0x0 0x2803c000 0x0 0x1000>;
			spi-max-frequency = <4000000>;
			clock = <48000000>;
			status = "disabled";
		};

		spi3: spi@2803d000 {
			compatible = "phytium,phytium-spi";
			reg = <0x0 0x2803d000 0x0 0x1000>;
			spi-max-frequency = <4000000>;
			clock = <48000000>;
			status = "disabled";
		};

		watchdog0: watchdog@28040000 {
			compatible = "phytium,phytium-wdt";
			reg = <0x0 0x28040000 0x0 0x1000>;
			timeout-sec = <600>;
			clock = <48000000>;
			status = "disabled";
		};

		watchdog1: watchdog@28042000 {
			compatible = "phytium,phytium-wdt";
			reg = <0x0 0x28042000 0x0 0x1000>;
			timeout-sec = <600>;
			clock = <48000000>;
			status = "disabled";
		};

		pwm0: pwm@2804a000 {
			compatible = "phytium,phytium-pwm";
			reg = <0x0 0x2804a000 0x0 0x1000>;
			status = "okay";
		};

		pwm1: pwm@2804b000 {
			compatible = "phytium,phytium-pwm";
			reg = <0x0 0x2804b000 0x0 0x1000>;
			status = "okay";
		};

		pwm2: pwm@2804c000 {
			compatible = "phytium,phytium-pwm";
			reg = <0x0 0x2804c000 0x0 0x1000>;
			status = "okay";
		};

		pwm3: pwm@2804d000 {
			compatible = "phytium,phytium-pwm";
			reg = <0x0 0x2804d000 0x0 0x1000>;
			status = "okay";
		};

		pwm4: pwm@2804e000 {
			compatible = "phytium,phytium-pwm";
			reg = <0x0 0x2804e000 0x0 0x1000>;
			status = "okay";
		};

		pwm5: pwm@2804f000 {
			compatible = "phytium,phytium-pwm";
			reg = <0x0 0x2804f000 0x0 0x1000>;
			status = "okay";
		};

		pwm6: pwm@28050000 {
			compatible = "phytium,phytium-pwm";
			reg = <0x0 0x28050000 0x0 0x1000>;
			status = "okay";
		};

		pwm7: pwm@28051000 {
			compatible = "phytium,phytium-pwm";
			reg = <0x0 0x28051000 0x0 0x1000>;
			status = "okay";
		};
		
		gpio0: gpio@28034000 {
			compatible = "phytium,phytium-gpio";
			reg = <0 0x28034000 0 0x1000>;
			gpio-ranges = <16>;
			status = "okay";
		};
		
		gpio1: gpio@28035000 {
			compatible = "phytium,phytium-gpio";
			reg = <0 0x28035000 0 0x1000>;
			gpio-ranges = <16>;
			status = "okay";
		};

		gpio2: gpio@28036000 {
			compatible = "phytium,phytium-gpio";
			reg = <0 0x28036000 0 0x1000>;
			gpio-ranges = <16>;
			status = "okay";
		};
		
		gpio3: gpio@28037000 {
			compatible = "phytium,phytium-gpio";
			reg = <0 0x28037000 0 0x1000>;
			gpio-ranges = <16>;
			status = "okay";
		};
		
		gpio4: gpio@28038000 {
			compatible = "phytium,phytium-gpio";
			reg = <0 0x28038000 0 0x1000>;
			gpio-ranges = <16>;
			status = "okay";
		};
		
		gpio5: gpio@28039000 {
			compatible = "phytium,phytium-gpio";
			reg = <0 0x28039000 0 0x1000>;
			gpio-ranges = <16>;
			status = "okay";
		};
		
		adc0: adc@2807b000 {
			compatible = "phytium,phytium-adc";
			reg = <0x0 0x2807b000 0x0 0x1000>;
			clock = <48000000>;
			status = "okay";
		};

		usb3_0: usb3@31a00000 {
			compatible = "phytium,phytium-xhci";
			reg = <0x0 0x31a08000 0x0 0x18000>;
			status = "okay";
		};

		usb3_1: usb3@31a20000 {
			compatible = "phytium,phytium-xhci";
			reg = <0x0 0x31a28000 0x0 0x18000>;
			status = "okay";
		};

        usb2_0: usb2@31800000 {
            compatible = "phytium,phytium-usb2";
            reg = <0x0 0x31800000 0x0 0x80000>,
                  <0x0 0x31990000 0x0 0x10000>;
            dr_mode = "host";
            status = "okay";
        };

        usb2_3: usb2@32800000 {
            compatible = "phytium,phytium-usb2";
            reg = <0x0 0x32800000 0x0 0x40000>,
                  <0x0 0x32880000 0x0 0x40000>;
            dr_mode = "host";
            status = "okay";
        };

        usb2_4: usb2@32840000 {
            compatible = "phytium,phytium-usb2";
            reg = <0x0 0x32840000 0x0 0x40000>,
                  <0x0 0x328c0000 0x0 0x40000>;
            dr_mode = "host";
            status = "okay";
        };

        sata0: sata@31a40000 {
			compatible = "phytium,phytium_ahci";
			reg = <0x0 0x31a40000 0x0 0x1000>;
			status = "okay";
		};

		sata1: sata@32014000 {
			compatible = "phytium,phytium_ahci";
			reg = <0x0 0x32014000 0x0 0x1000>;
			status = "okay";
		};

		eth0: ethernet@3200c000 {
			compatible = "phytium,phytium-eth";
			reg = <0x0 0x3200c000 0x0 0x2000>;
			clock = <48000000>;
			status = "okay";
			phy-mode = "sgmii";
			fixed-link{
				speed = <1000>;
				full-duplex;
			};
		};

		eth1: ethernet@3200e000 {
			compatible = "phytium,phytium-eth";
			reg = <0x0 0x3200e000 0x0 0x2000>;
			clock = <48000000>;
			status = "okay";
			phy-mode = "sgmii";
			fixed-link{
				speed = <1000>;
				full-duplex;
			};
		};

		eth2: ethernet@32010000 {
			compatible = "phytium,phytium-eth";
			reg = <0x0 0x32010000 0x0 0x2000>;
			clock = <48000000>;
			status = "okay";
			phy-mode = "sgmii";
			fixed-link{
				speed = <1000>;
				full-duplex;
			};
		};

		eth3: ethernet@32012000 {
			compatible = "phytium,phytium-eth";
			reg = <0x0 0x32012000 0x0 0x2000>;
			clock = <48000000>;
			status = "okay";
			phy-mode = "sgmii";
			//phy-mode = "rgmii";
			//phy-mode = "rmii";
			fixed-link{
				speed = <1000>;
				//speed = <100>;//rmii
				full-duplex;
			};
		};
		
		gdma: gdma@32B34000 {
			compatible = "phytium,phytium-gdma";
			#dma-cells = <1>;
			reg = <0x0 0x32B34000 0x0 0x1000>;
			dmas = <&gdma 0>;
			dma-names = "m2m";
			status = "okay";
		};
	};
};
